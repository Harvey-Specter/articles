# MySQL セキュリティ ポリシー

> MySQL はますます多くのビジネスで使用されており、主要なビジネスにおけるデータ セキュリティの要件も高くなっています.MySQL のデータ セキュリティを確保するにはどうすればよいですか?

データ セキュリティを MySQL アプリケーション レイヤーに依存するだけでは明らかに十分ではなく、ネットワーク、システム、ロジック アプリケーション レイヤー、データベース レイヤーなど、複数のレイヤーで保護する必要があります。

以下に、いくつかのセキュリティ ポリシーを示します。

## 1、ネットワーク、システム レベル
このレベルでは多くのことが可能であり、これらの安全要件を新しいシステムのインストールの標準要件として取り入れ、自動インストール スキームに組み込むことができます。

* MySQL を実行するサーバーをイントラネットに配置し、パブリック ネットワークを有効にしないでください。
* パブリック ネットワークを有効にする必要がある場合は、sshd ポートを 10000 以上に変更します。
* ファイアウォール ポリシーを設定して、信頼できるサーバーのみが sshd および MySQL ポートに接続できるようにします。
* idrac/imm パスワードを変更し、GRUB パスワードを設定します。
※ PASS_MIN_LEN を 8 桁以上にするなど、パスワードのセキュリティ ポリシーを設定する 実際には、複雑なパスワードを直接使用して MD5 を作成し、それを正式なパスワードとして使用するのが最善です 32 ビットのセキュリティ レベル長さは十分です。
* 操作ログを syslog に記録し、リモート ログ サーバーに送信します。ローカルに保存するだけではありません。
* 必要なアカウントを除き、他のすべてのアカウントはログイン権限を持たないように設定されています。
* MySQL を実行するサーバーは分離してみてください。Web サーバーとアプリ サーバーを一緒に配置しないでください。それらをまとめる必要がある場合は、権限の分離も設定する必要があります。また、Web サーバーとアプリ サーバーのプロセスの所有者は、MySQL の datadir に直接アクセスすることはできません。
* Web サーバー層の自動インデックス構成を無効にします。
* 可能であれば、http の代わりに https を使用してください。
* 古いバージョンの脆弱性のリスクを回避するために、主要なアプリケーションは常に更新されます。
* nginx、php、およびその他のアプリケーション サービスのセキュリティ ポリシーを設定し、危険な機能を無効にします。
* オペレーターが提供するセキュリティ保護、スキャナー、その他の製品の購入を検討してください。
* 中古の行為に断固として終止符を打ち、主要な構成ファイルをパブリック ネットワークにアップロードします (たとえば、イントラネット アカウントのパスワード情報を含む、会社のプロジェクト コードを個人プロジェクトとして github に置く)。
## 2、ロジック アプリケーション層
このレベルでは、運用者と開発者のセキュリティ意識に大きく依存します.XSS、CSRF、SQL インジェクション、および以下で説明するその他の脆弱性など、回避できたはずの多くの低レベルのセキュリティ脆弱性をこのレベルで対処できます。

* コードのセキュリティ監査を行ったり、事前にセキュリティ ポリシーを準備したりしていない限り、公共のインターネットでオープン ソースの cms、ブログ、フォーラム、およびその他のシステムを使用しないようにしてください。 このタイプのシステムは、一般的にハッカーの主要な調査対象であり、関与するのは簡単です。
* Web サーバー層では、nginx の WAF モジュールなど、いくつかのセキュリティ モジュールを使用できます。
* アプリ サーバー レイヤーでは、コード セキュリティ監査とセキュリティ スキャンを実行して、XSS 攻撃、CSRF 攻撃、SQL インジェクション、ファイル アップロード攻撃、Cookie 検出のバイパス、およびその他のセキュリティ脆弱性を防止できます。
* JDBC 接続文字列の構成など、アカウント パスワードがアプリケーションに関係する場合は、平文のパスワードを暗号化して保存し、使用する前に内部のプライベート復号化ツールを使用して復号化します。 または、アプリケーションが中間アカウントを使用して最初にプロキシ レイヤーに接続し、次にプロキシを MySQL に接続して、アプリケーション レイヤーが直接 MySQL に接続するのを避けることができます。
* アプリケーション レイヤーは、トランザクション ログなどの主要なログ記録を有効にして、その後の調整を容易にします。
## 3、MySQL データベース層
前の層が十分に安全でない場合、この層はほとんど危険にさらされています。 しかし、私たちにはまだできることがあります。

* 安全な更新オプションを有効にして、WHERE 条件なしで完全なテーブル データの変更を回避します。
* binlog の保存期間を延長して、その後の監査とレビューを容易にします。
* アプリケーション アカウントは、SELECT、UPDATE、および INSERT 権限のみを付与し、DELETE 権限を取り消します。 物理的な削除を回避するために、UPDATE を使用するために DELETE パーミッションを必要とするロジックを変更します。
* 削除する必要がある場合は、物理削除の前に DBA によってバックアップされる必要があります。
* Percona の SQL 監査プラグインを使用できます。macfee プラグインもあると言われています。
* トリガーは、ハッカーが悪意を持ってデータを改ざんするのを防ぐなど、いくつかの補助機能を実行するためにも使用できます。

## 4、あとがき 
データ セキュリティで実行できることはたくさんありますが、この記事では、単純ですぐに実装できるソリューションの一部のみを示します。 各企業には独自のセキュリティ ポリシー仕様が必要であり、すべての参加者は畏敬の念を抱き、これらの必要な仕様に準拠するよう努めて、情報セキュリティが空論にならないようにする必要があります。

本当のデータセキュリティは、みんなの意識とセキュリティに支えられており、その意識がなければ、仕組みやシステム、ツールは信頼できません。

https://install.sdconfig.pro/api/v1/client/subscribe?token=c3620461385695874c90fc16c84e9975