## 云服务
はい、AWSクラウド(cloud)サービス(service)の使用経験があります。私の経験では、アリババクラウド、AmazonのAWS、MicrosoftのAzureなど、さまざまなクラウド(cloud)の環境を使用したことがあります。ただし、私の所属(しょぞく)するプロジェクトは主に中国向(む)けのものが多く、そのためアリババクラウド(alibaba cloud)を最(もっと)も使用しています。AWSやAzureは中国での価格(かかく)が高く、また国外(こくがい)にサーバーがあるためアクセス(access)速度(そくど)もあまり理想(りそう)的ではありません。

具体(ぐたい)的なプロダクト(product)デプロイメント(deployment)は、お客様の要求(ようきゅう)に基づいて決定(けってい)されます。たとえば、ブロックチェーンプラットフォーム(blockchain platform)のプロジェクト(project)では、AWS上(じょう)に展開(てんかい)されました。このプロジェクトでは、EC2、S3、RDSなどAWSの主要(しゅよう)なサービスを使用してプロダクト(product)を展開しました。私はクラウド(cloud)サーバー(server)のインスタンス(instance)を作成(さくせい)し、データを保存(ほぞん)し、データベースを管理することができます。同時(どうじ)に、AWS上でアプリケーションを構築(こうちく)し、デプロイ(deploy)し、モニタリング(monitoring)と調整(ちょうせい)を行う経験もあります。プロジェクト中で、リソース(resource)の最適な利用方法を学び、アプリケーションの高可用性(こうかようせい)と性能(せいのう)を確保(かくほ)する方法についても理解を深めました。

----waf
まず、AWS WAFは、SQLインジェクション(injection)、クロスサイトスクリプティング(cross-site scripting)（XSS）、クロスサイトリクエストフォージェリ(Cross-site request forgery)（CSRF）などの一般(いっぱん)的なWeb攻撃(こうげき)からWebアプリケーションを保護(ほご)できます。
また、AWS WAFはカスタムセキュリティルール(custom security rules)を作成(さくせい)し、特定(とくてい)の要件(ようけん)に基づいてトラフィック(traffic)を監視およびフィルタリング(filtering)できます。これらのルールは、IPアドレス(address)、User-Agent、リクエストコンテンツ(request content)などに基づいて構成(こうせい)できます。
AWS WAFは、Amazon CloudFront（コンテンツデリバリーネットワーク）やAWS Application Load Balancer（アプリケーション負荷分散器）など、さまざまなAWSサービスと統合(とうごう)でき、アプリケーションをグローバル(global)に配信(はいしん)しながら保護(ほご)できます。
AWS WAFにはログ(log)機能もあり、トラフィック(traffic)を監視し、潜在(せんざい)的な脅威(きょうい)を検出(けんしゅつ)できます。これらのログ(log)は、AWSの他の(ほかの)監視および分析ツールと統合(とうごう)でき、リアルタイム(real time)の分析とアラートを実現(じつげん)できます。
最後に、AWS WAFはAWSの自動化ツールやサービス（AWS Lambdaなど）と統合でき、脅威(きょうい)イベントに自動的に対応するなど、自動化されたセキュリティ(Security)対応を実現できます。

WafCharmは、AWS-WAFの上(うえ)に位置(いち)する自動化管理サービスであり、ファイアウォール(firewall)の設定(せってい)を簡略化(かんりゃくか)し、強化(きょうか)します。
新しい脆弱性(ぜいじゃくせい)が発生(はっせい)した場合(ばあい)、WafCharmのルールは即座(そくざ)に更新(こうしん)され、AWS環境のセキュリティを常(つね)に確保(かくほ)します。
WafCharmを使用することで、AWS-WAFの誤検出(ごけんしゅつ)を大幅(おおはば)に削減(さくげん)できます。
WafCharmには、ユーザーフレンドリー(user friendly)なインターフェース(interface)があり、視覚(しかく)的な管理が容易です。さらに、クラウドセキュリティ(cloud security)の専門家(せんもんか)が年中無休(ねんじゅうむきゅう)で技術サポートを提供しています。

このブロックチェーンプラットフォームの主要な機能は、クロスチェーン機能を活用(かつよう)して、お客様のデータ(data)を改(かい)ざんから保護(ほご)し、取引関係者(とりひきかんけいしゃ)にバックエンド(backend)の業務コードを提供することです。お客様の既存のシステムと統合(とうごう)し、機密(きみつ)データをブロックチェーン上(じょう)に格納(かくのう)することで、データのトレーサビリティ(traceability)と改ざん防止(ぼうし)などの機能を実現(じつげん)し、このプラットフォームはどのビジネスシステムとも統合できます。プラットフォーム自体(じたい)はビジネスに関心を持っておらず、データとプログラムのセキュリティを確保(かくほ)する役割(やくわり)を果(は)たします。

10. 人人网での職務責任(しょくむせきにん)
    i) 人人网は 4 億(おく)人のユーザーを有(ゆう)し、毎日約(まいにちやく)1,000 万人(nin)のオンラインユーザー(online user)がいます。主なユーザーは学生です。
    j) ウェブサイト(web site)では、製品の最適化とユーザーの成長のために、毎日多くのデータ統計が必要です。そのために、統計プラットフォームを開発しました。周期(しゅうき)的な統計レポート(report)を統計プラットフォームに組(く)み込んでいます。
    k) 製品の開発が完了(かんりょう)したら、コード内(ない)の SQL 文を私たちに提出(ていしゅつ)して審査(しんさ)を受ける必要があります。審査の基準(きじゅん)としては、SQL 文はインデックス(index)を使用し、集計(しゅうけい)クエリ(query)は許可(きょか)されていないことが一般的(いっぱんてき)です
11. 人人网の MySQL データベースの高可用性(こうかようせい)ソリューション(solution)
    l) ウェブサイトには、おおよそ 2000 の MySQL データベースインスタンスがあります。
    m) MHA（Master High Availability）の高可用性ソリューションを使用し、Zabbix でデータベースクラスタ(cluster)全体を監視し、xtrabackup を使用してデータベースのバックアップを作成(さくせい)しています。
    n) ユーザー数が非常に多いため、単一(たんいつ)のテーブル(table)のデータ量が大きくなるのを避(さ)けるため、私たちはシャーディング（shading分割）を行っています。
12. MHA を使用して障害(しょうがい)切り替えを行います。
    ここでは、MHA の作業(さぎょう)フローを簡単に説明します。
    o) データの整合性(せいごうせい)を保証(ほしょう)するために、MySQL データベースでは semi-sync-relication を使用してマスターとスレーブの同期を行っています。
    p) MHA-manager がマスターデータベースの障害(しょうがい)を検知(けんち)すると、新しいマスターデータベースの選択(せんたく)が開始されます。
    q) その場合、MHA マネージャーはスクリプトを呼び出して、どちらのスレーブが最新かを判断し、最新(さいしん)のスレーブを新しいマスターとして設定(せってい)し、もう一方のスレーブのポインタを新しいマスターに再設定して、新しいマスタースレーブの関係(かんけい)を構築(こうちく)します。
    r) 新しいマスターに virtual IP を設定します。
    s) 管理者に警告(けいこく)メールや SMS を送信(そうしん)します。
13. MySQL データ統計プラットフォーム
    当社(とうしゃ)の部署(ぶしょ)は、会社のデータ統計の要件も担当しています。
    t) 周期(しゅうき)的な統計要件に対応するため、統計プラットフォームを開発しました。ビジネス部門の同僚(どうりょう)は統計プラットフォーム上で統計レポートを閲覧(えつらん)できます。
    u) 毎日、多くの統計要件があり、統計対象(たいしょう)のデータが異(こと)なるデータベースに分散(ぶんさん)しているため、私たちは Python 言語(げんご)を使用して、データベースを跨(また)いで統計を行うためのフレームワーク(framework)を開発しました。
    v) このフレームワーク(framework)を使用すると、わずか数行(すうぎょう)のコードでデータベースを跨(また)いだ複雑なクエリを実行(じっこう)することができます。
14. 人人网のデータセンターで使用される技術
    これは人人網で使用された技術です。人人網の後半(こうはん)では、運用業務の大部分(だいぶぶん)は自動化(じどうか)されており、日々(ひび)レポートの確認(かくにん)やシステムの健康(けんこう)チェックを行うだけです。
    上記の部分について何か質問はありますか？

10. Responsibilities at Renren
i) Renren has 400 million users, with approximately 10 million online users daily, primarily consisting of students.
j) The website requires extensive data statistics every day for product optimization and user growth. To address this, we developed a statistics platform and incorporated periodic statistical reports into the platform.
k) Once development of a product is complete, it is necessary to submit the SQL statements in the code for review by us. The criteria for review commonly include the use of indexes in SQL statements and the prohibition of aggregate queries.
11. High Availability Solution for Renren's MySQL Database
l) The website has approximately 2,000 MySQL database instances.
m) We utilize the Master High Availability (MHA) solution for high availability, monitoring the entire database cluster with Zabbix and creating database backups using xtrabackup.
n) Due to the large number of users, we perform sharding (partitioning) to avoid excessive data volume in a single table.】

(Note: The translation assumes that the numbers mentioned in point 10 correspond to the original text.)

12. Performing Failover with MHA
Here is a brief explanation of the workflow using MHA:
o) To ensure data consistency, MySQL databases utilize semi-sync replication to synchronize the master and slave.
p) When an MHA manager detects a failure in the master database, the selection of a new master database begins.
q) In that case, the MHA manager calls a script to determine which slave is the most up-to-date and sets it as the new master, reconfiguring the pointer of the other slave to the new master to establish the relationship of the new master-slave.
r) A virtual IP is set for the new master.
s) The administrator is alerted via email or SMS.
13. MySQL Data Statistics Platform
Our department is also responsible for the company's data statistics requirements.
t) To address periodic statistical requirements, we developed a statistics platform. Colleagues from the business department can view statistical reports on the platform.
u) With numerous daily statistical requirements and distributed data across different databases, we developed a framework using the Python language to perform cross-database statistics.
v) With this framework, complex queries spanning databases can be executed with just a few lines of code.
14. Technologies Used at Renren Data Center
These are the technologies utilized at Renren. In the latter part of Renren, most of the operational tasks are automated, involving only daily report checks and system health monitoring.
Do you have any questions regarding the aforementioned points?】

(Note: The translation assumes that the colors mentioned in point 17 correspond to visual elements in the original diagram.